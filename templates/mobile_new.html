<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fifth Element Photography - Mobile</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/mobile_new.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/shopify-modal.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Header Section -->
    <header class="mobile-header">
        <div class="logo-section">
            <div class="logo-container">
                <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Fifth Element Photography" class="mobile-logo">
            </div>
        </div>
        
        <!-- Menu Button -->
        <div class="menu-section">
            <button class="menu-btn" id="mobileMenuBtn">MENU</button>
        </div>
    </header>

    <!-- Navigation Menu (Hidden by default) -->
    <nav class="mobile-nav" id="mobileNav">
        <ul class="nav-list">
            <li><a href="#home" class="nav-link active">HOME</a></li>
            <li><a href="#featured" class="nav-link">FEATURED IMAGE</a></li>
            <li><a href="#about" class="nav-link">ABOUT</a></li>
            <li><a href="#contact" class="nav-link">CONTACT</a></li>
        </ul>
    </nav>

    <!-- Main Content Container -->
    <main class="mobile-main">
        
        <!-- Home Section -->
        <section id="home" class="mobile-section active">
            
            <!-- Social Media Section -->
            <div class="social-section">
                <h2 class="social-title">Follow Us</h2>
                <div class="social-icons">
                    <a href="#" class="social-link facebook">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="#" class="social-link twitter">
                        <i class="fab fa-twitter"></i>
                    </a>
                </div>
            </div>

            <!-- Hero Image Section -->
            <div class="hero-section">
                <div class="hero-image-container hero-container">
                    {% if hero_image and hero_image.filename %}
                    <img src="{{ url_for('serve_image', filename=hero_image.filename) }}" alt="{{ hero_image.title or 'Hero Image' }}" class="hero-image">
                    <div class="hero-overlay">
                        <img src="{{ url_for('static', filename='images/TaglineWhite.png') }}" alt="Tagline" class="hero-tagline-image">
                    </div>
                    {% elif images %}
                    <img src="{{ url_for('serve_image', filename=images[0].filename) }}" alt="{{ images[0].title or 'Hero Image' }}" class="hero-image">
                    <div class="hero-overlay">
                        <img src="{{ url_for('static', filename='images/TaglineWhite.png') }}" alt="Tagline" class="hero-tagline-image">
                    </div>
                    {% else %}
                    <img src="{{ url_for('static', filename='images/placeholder-hero.jpg') }}" alt="Hero Image" class="hero-image">
                    <div class="hero-overlay">
                        <img src="{{ url_for('static', filename='images/TaglineWhite.png') }}" alt="Tagline" class="hero-tagline-image">
                    </div>
                    {% endif %}
                </div>
            </div>

            <!-- Categories Carousel -->
            <div class="categories-carousel-container">
                <div class="carousel-wrapper">
                    <button class="carousel-nav-btn carousel-prev" id="carouselPrev" aria-label="Previous categories">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <div class="categories-carousel" id="categoriesCarousel">
                        <div class="category-slide">
                            <button class="category-btn active" data-category="all">ALL</button>
                        </div>
                        {% for category in categories %}
                        <div class="category-slide">
                            <button class="category-btn" data-category="{{ category }}">{{ category.upper() }}</button>
                        </div>
                        {% endfor %}
                    </div>
                    <button class="carousel-nav-btn carousel-next" id="carouselNext" aria-label="Next categories">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
                <div class="carousel-indicators" id="carouselIndicators"></div>
            </div>

            <!-- Gallery Section -->
            <div class="gallery-section">
                <div class="gallery-grid">
                    <!-- Gallery images from admin -->
                    {% for image in images %}
                    <div class="gallery-item" 
                         data-image-id="{{ loop.index0 }}" 
                         data-image-title="{{ image.title or image.filename }}" 
                         data-image-category="{{ image.category or 'Uncategorized' }}"
                         data-image-filename="{{ image.filename }}"
                         data-image-url="{{ url_for('serve_image', filename=image.filename) }}"
                         data-image-description="{{ image.description|striptags if image.description else '' }}"
                         data-exif-model="{{ image.model if image.model else 'Unavailable' }}"
                         data-exif-lens="{{ image.lens if image.lens else 'Unavailable' }}"
                         data-exif-aperture="{{ image.aperture if image.aperture else 'Unavailable' }}"
                         data-exif-shutter="{{ image.shutter_speed if image.shutter_speed else 'Unavailable' }}"
                         data-exif-iso="{{ image.iso if image.iso else 'Unavailable' }}"
                         data-exif-focal="{{ image.focal_length if image.focal_length else 'Unavailable' }}"
                         onclick="openImageModal(this)">
                        <img src="{{ url_for("serve_image", filename=image.filename) }}" alt="{{ image.title or image.filename }}" class="gallery-image">
                    </div>
                    {% endfor %}
                </div>
            </div>
        </section>

        <!-- Featured Image Page Section -->
        <section id="featured" class="mobile-section">
            <div class="page-header">
                <h1 style="font-size: 1.5rem;">FEATURED IMAGE OF THE WEEK</h1>
            </div>
            <div class="featured-page-content">
                <div class="featured-image-container">
                    {% if featured_image and featured_image.filename %}
                    <img src="{{ url_for('serve_image', filename=featured_image.filename) }}" alt="{{ featured_image.title or 'Featured Image' }}" class="featured-image" style="max-width: 90%; height: auto; margin: 0 auto; display: block;">
                    {% else %}
                    <img src="{{ url_for('static', filename='images/placeholder-featured.jpg') }}" alt="Featured Image" class="featured-image" style="max-width: 90%; height: auto; margin: 0 auto; display: block;">
                    {% endif %}
                </div>
                
                <div class="featured-content">
                    <h3 style="text-align: left; margin-bottom: 15px; color: white;">{{ featured_image.title if featured_image else "No Featured Image" }}</h3>
                    <div class="story-text">
                <div class="description-content">{{ featured_image.description|safe if featured_image and featured_image.description else "No description available." }}</div>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="action-buttons">
                        <button class="action-btn primary">VIEW HIGH RESOLUTION</button>
                        <button class="action-btn secondary">DOWNLOAD FULL SIZE</button>
                        <button class="action-btn tertiary">SHARE ON SOCIAL MEDIA</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="mobile-section">
            <div class="page-header">
                <h1>About</h1>
            </div>
            <div class="about-content">
                {% if about_data and about_data.filename %}
                <div class="about-image-container">
                    <img src="/about/{{ about_data.filename }}" alt="About Fifth Element Photography" class="about-image">
                </div>
                {% endif %}
                
                <div class="about-text">
                    {% if about_data and about_data.bio %}
                        <p>{{ about_data.bio|safe }}</p>
                    {% else %}
                        <p>Welcome to Fifth Element Photography. Add your bio in the admin panel to personalize this section.</p>
                    {% endif %}
                </div>
            </div>
        </section>


        <!-- Contact Section -->
        <section id="contact" class="mobile-section">
            <div class="page-header">
                <h1>Contact</h1>
            </div>
            <div class="contact-content">
                <div class="contact-info">
                    <div class="contact-item">
                        <h3>Get in Touch</h3>
                        <p>Ready to capture your special moments? Let's discuss your photography needs.</p>
                    </div>
                    <div class="contact-item">
                        <h4>Email</h4>
                        <p>info@fifthelement.photos</p>
                    </div>
                    <div class="contact-item">
                        <h4>Phone</h4>
                        <p>(608) 219-6066</p>
                    </div>
                    <div class="contact-item">
                        <h4>Location</h4>
                        <p>Madison, Wisconsin</p>
                    </div>
                </div>
                
                <div class="contact-form">
                    <h3>Send a Message</h3>
                    <form id="mobileContactForm">
                        <div class="form-group">
                            <input type="text" name="name" placeholder="Your Name" required>
                        </div>
                        <div class="form-group">
                            <input type="email" name="email" placeholder="Your Email" required>
                        </div>
                        <div class="form-group">
                            <input type="tel" name="phone" placeholder="Your Phone Number">
                        </div>
                        <div class="form-group">
                            <label for="mobile-shoot-type">What type of shoot are you interested in?</label>
                            <select id="mobile-shoot-type" name="shoot_type">
                                <option value="" disabled selected>Select an option</option>
                                <option value="portrait">Portrait</option>
                                <option value="public-event">Public Event</option>
                                <option value="corporate-event">Corporate Event</option>
                                <option value="business-headshots">Business Headshots</option>
                                <option value="promotional-headshots">Promotional Headshots</option>
                                <option value="band-promotion">Band Promotion</option>
                                <option value="product-promotion">Product Promotion</option>
                                <option value="graduation">Graduation</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="mobile-budget">What is your budget range?</label>
                            <select id="mobile-budget" name="budget">
                                <option value="" disabled selected>Select a range</option>
                                <option value="up-to-500">Up to $500</option>
                                <option value="550-750">$550 - $750</option>
                                <option value="800-1000">$800 - $1,000</option>
                                <option value="not-sure">I am not sure, looking for a quote</option>
                                <option value="discuss">Let's discuss</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="mobile-how-heard">How did you hear about us?</label>
                            <select id="mobile-how-heard" name="how_heard">
                                <option value="" disabled selected>Select an option</option>
                                <option value="google">Google Search</option>
                                <option value="social-media">Social Media</option>
                                <option value="referral">Friend/Family Referral</option>
                                <option value="website">Found your website</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <textarea name="message" placeholder="Tell us more about your vision and what you're looking for..." rows="4" required></textarea>
                        </div>
                        <button type="submit" class="action-btn primary">Send Message</button>
                    </form>
                </div>
            </div>
        </section>

    </main>

    <!-- Image Modal - Redesigned for full-width layout -->
    <div id="imageModal" class="image-modal" onclick="closeImageModal()">
        <div class="modal-content" onclick="event.stopPropagation()">
            <span class="modal-close" onclick="closeImageModal()">&times;</span>
            <div class="modal-image-container">
                <img id="modalImage" src="" alt="" class="modal-image">
            </div>
            <div class="modal-info">
                <div class="modal-title-section">
                    <div class="modal-title-row">
                        <span id="modalTitle" class="title-value">Image Title</span>
                        <span id="modalCategory" class="category-badge" onclick="filterByModalCategory()">Category</span>
                    </div>
                </div>
                
                <!-- EXIF Data Section -->
                <div class="modal-exif-section" id="modalExifSection">
                    <div class="exif-grid">
                        <div class="exif-item">
                            <span class="exif-label">MODEL:</span>
                            <span class="exif-value" id="exifModel">Unavailable</span>
                        </div>
                        <div class="exif-item">
                            <span class="exif-label">LENS:</span>
                            <span class="exif-value" id="exifLens">Unavailable</span>
                        </div>
                        <div class="exif-item">
                            <span class="exif-label">APERTURE:</span>
                            <span class="exif-value" id="exifAperture">Unavailable</span>
                        </div>
                        <div class="exif-item">
                            <span class="exif-label">SHUTTER:</span>
                            <span class="exif-value" id="exifShutter">Unavailable</span>
                        </div>
                        <div class="exif-item">
                            <span class="exif-label">ISO:</span>
                            <span class="exif-value" id="exifIso">Unavailable</span>
                        </div>
                        <div class="exif-item">
                            <span class="exif-label">FOCAL:</span>
                            <span class="exif-value" id="exifFocal">Unavailable</span>
                        </div>
                    </div>
                </div>
                
                <!-- Description Section -->
                <div class="modal-description-section" id="modalDescriptionSection" style="display: none;">
                    <div class="description-content" id="modalDescription"></div>
                </div>
                
                <!-- Action Buttons -->
                <div class="modal-actions">
                    <button onclick="viewHighResolution()" class="view-highres-btn">üîç VIEW HIGH RESOLUTION</button>
                    <button onclick="downloadImage()" class="download-btn">‚¨áÔ∏è DOWNLOAD FULL SIZE</button>
                    <button onclick="openOrderWizard()" class="order-prints-btn">üõí ORDER PRINTS</button>
                    <button onclick="copyShareUrl()" class="share-btn">üîó COPY URL FOR SHARING</button>
                    <a href="https://buymeacoffee.com/fifthelementphotography" target="_blank" class="coffee-btn">‚òï BUY ME A COFFEE</a>
                </div>
            </div>
            
            <!-- Social Share Menu (hidden by default) -->
            <div class="share-menu" id="shareMenu" style="display: none;">
                <button onclick="shareToFacebook()" class="share-option">üìò Facebook</button>
                <button onclick="shareToTwitter()" class="share-option">üê¶ Twitter</button>
                <button onclick="shareToPinterest()" class="share-option">üìå Pinterest</button>
                <button onclick="closeShareMenu()" class="share-option share-cancel">Cancel</button>
            </div>
        </div>
    </div>
        
        <!-- Mobile Order Form Section (initially hidden) -->
        <div class="mobile-order-form" id="mobileOrderForm" style="display: none;">
            <div class="order-form-header">
                <button class="btn-back" onclick="showMobileImageView()">
                    <span class="btn-icon">‚Üê</span>
                    Back to Image
                </button>
                <h2 class="order-form-title">ORDER FORM</h2>
            </div>
            
            <div class="mobile-order-content">
                <!-- Image Details Section -->
                <div class="mobile-order-info">
                    <h3>Image Details</h3>
                    <div id="mobileOrderImageDetails">
                        <!-- Image details will be populated dynamically -->
                    </div>
                    <div class="mobile-order-image-preview" id="mobileOrderImagePreview">
                        <!-- Image thumbnail will be shown here -->
                    </div>
                </div>
                
                <!-- Order Form Section -->
                <div class="mobile-order-form-fields">
                    <h3>Place Order</h3>
                    <form id="mobileOrderForm" action="/test_order_submit" method="POST">
                        <div class="form-group">
                            <input type="email" id="mobile_order_email" name="email" placeholder="Your Email" required>
                        </div>
                        
                        <div class="form-group">
                            <input type="text" id="mobile_order_first_name" name="first_name" placeholder="First Name" required>
                        </div>
                        
                        <div class="form-group">
                            <input type="text" id="mobile_order_last_name" name="last_name" placeholder="Last Name" required>
                        </div>
                        
                        <div class="form-group">
                            <input type="text" id="mobile_order_address" name="address" placeholder="Address" required>
                        </div>
                        
                        <div class="form-group">
                            <input type="text" id="mobile_order_city" name="city" placeholder="City" required>
                        </div>
                        
                        <div class="form-group">
                            <input type="text" id="mobile_order_state" name="state" placeholder="State" required>
                        </div>
                        
                        <div class="form-group">
                            <input type="text" id="mobile_order_zip" name="zip_code" placeholder="Zip Code" required>
                        </div>
                        
                        <div class="form-group">
                            <select id="mobile_order_country" name="country" required>
                                <option value="">Select Country</option>
                                <option value="United States">United States</option>
                                <option value="Canada">Canada</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <input type="tel" id="mobile_order_phone" name="phone" placeholder="Phone Number">
                        </div>
                        
                        <div class="form-group">
                            <select id="mobile_order_product_type" name="product_type" required>
                                <option value="">Select a product...</option>
                                <option value="canvas|12x12_075" data-sku="101001" data-options="1,5">Canvas Print 0.75" (12x12) - Loading...</option>
                                <option value="canvas|12x12_125" data-sku="101002" data-options="2,5">Canvas Print 1.25" (12x12) - Loading...</option>
                                <option value="metal|12x12" data-sku="106001" data-options="29,31">Metal Print (12x12) - Loading...</option>
                                <option value="paper|12x12" data-sku="103001" data-options="36">Fine Art Paper (12x12) - Loading...</option>
                            </select>
                        </div>

                        <!-- PayPal Payment Section -->
                        <div class="payment-section">
                            <p class="total-price"><strong>Total: <span id="mobile-order-total-price">$0.00</span></strong></p>
                            <div id="mobile-order-paypal-button-container"></div>
                        </div>

                        <!-- Submit button -->
                        <button type="submit" id="mobile-order-submit-order">Submit Order to OrderDesk</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    <script src="{{ url_for('static', filename='js/shopify-config.js') }}"></script>
    <script src="{{ url_for('static', filename='js/shopify-integration.js') }}"></script>
    <script src="{{ url_for('static', filename='js/mobile_new.js') }}"></script>
</body>
</html>
